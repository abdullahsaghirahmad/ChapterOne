{"ast":null,"code":"var _jsxFileName = \"/Users/Projects/ChapterOne/src/components/features/BookCard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BookOpenIcon, ClockIcon, HeartIcon, BookmarkIcon, CloudIcon, BoltIcon, FireIcon } from '@heroicons/react/24/outline';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { BookDNA } from './BookDNA';\n\n// Mapping of job titles to profession categories for search\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst professionMapping = {\n  'Product Managers': 'Product Management',\n  'Product Manager': 'Product Management',\n  'Product managers': 'Product Management',\n  'product manager': 'Product Management',\n  'product managers': 'Product Management',\n  'Software Engineers': 'Software Engineering',\n  'Software Engineer': 'Software Engineering',\n  'software engineers': 'Software Engineering',\n  'software engineer': 'Software Engineering',\n  'Data Scientists': 'Data Science',\n  'Data Scientist': 'Data Science',\n  'data scientists': 'Data Science',\n  'data scientist': 'Data Science',\n  'UX Designers': 'UX Design',\n  'UX Designer': 'UX Design',\n  'ux designers': 'UX Design',\n  'ux designer': 'UX Design',\n  'Marketers': 'Marketing',\n  'Marketer': 'Marketing',\n  'marketers': 'Marketing',\n  'marketer': 'Marketing',\n  'Business Analysts': 'Business Analysis',\n  'Business Analyst': 'Business Analysis',\n  'business analysts': 'Business Analysis',\n  'business analyst': 'Business Analysis',\n  'Entrepreneurs': 'Entrepreneurship',\n  'Entrepreneur': 'Entrepreneurship',\n  'entrepreneurs': 'Entrepreneurship',\n  'entrepreneur': 'Entrepreneurship',\n  'Consultants': 'Consulting',\n  'Consultant': 'Consulting',\n  'consultants': 'Consulting',\n  'consultant': 'Consulting',\n  'Project Managers': 'Project Management',\n  'Project Manager': 'Project Management',\n  'project managers': 'Project Management',\n  'project manager': 'Project Management',\n  'Executives': 'Executive Leadership',\n  'Executive': 'Executive Leadership',\n  'executives': 'Executive Leadership',\n  'executive': 'Executive Leadership',\n  'HR Professionals': 'Human Resources',\n  'HR Professional': 'Human Resources',\n  'hr professionals': 'Human Resources',\n  'hr professional': 'Human Resources',\n  'Sales Representatives': 'Sales',\n  'Sales Representative': 'Sales',\n  'sales representatives': 'Sales',\n  'sales representative': 'Sales',\n  'Financial Analysts': 'Finance',\n  'Financial Analyst': 'Finance',\n  'financial analysts': 'Finance',\n  'financial analyst': 'Finance',\n  'Students': 'Education',\n  'Student': 'Education',\n  'students': 'Education',\n  'student': 'Education',\n  'Researchers': 'Research',\n  'Researcher': 'Research',\n  'researchers': 'Research',\n  'researcher': 'Research',\n  'Healthcare Professionals': 'Healthcare',\n  'Healthcare Professional': 'Healthcare',\n  'healthcare professionals': 'Healthcare',\n  'healthcare professional': 'Healthcare',\n  'Legal Professionals': 'Legal',\n  'Legal Professional': 'Legal',\n  'legal professionals': 'Legal',\n  'legal professional': 'Legal'\n};\n// Helper function to safely get a value from an object or return the value itself\nconst extractValue = item => {\n  if (item === null || item === undefined) {\n    return '';\n  }\n  if (typeof item === 'object' && 'value' in item) {\n    return item.value;\n  }\n  return String(item);\n};\nexport const BookCard = ({\n  title,\n  author,\n  coverImage = 'https://via.placeholder.com/150x225?text=No+Cover',\n  pace = 'Moderate',\n  tone = [],\n  themes = [],\n  description = 'No description available',\n  bestFor = [],\n  isExternal = false,\n  quote,\n  mostQuoted\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [bookQuote, setBookQuote] = useState('');\n  const [readerFavorite, setReaderFavorite] = useState('');\n  const [imgError, setImgError] = useState(false);\n\n  // State to track expanded state for specific categories\n  const [showAllThemes, setShowAllThemes] = useState(false);\n  const [showAllBestFor, setShowAllBestFor] = useState(false);\n  const [showAllTone, setShowAllTone] = useState(false);\n\n  // Maximum items to show in a row before adding \"+X more\"\n  const MAX_VISIBLE_THEMES = 2;\n  const MAX_VISIBLE_BESTFOR = 2;\n  const MAX_VISIBLE_TONE = 3;\n\n  // Process data to handle both string and object formats\n  const processedTone = Array.isArray(tone) ? tone.map(t => extractValue(t)) : [];\n  const processedThemes = Array.isArray(themes) ? themes.map(t => extractValue(t)) : [];\n\n  // Ensure bestFor is always an array of strings\n  const processedBestFor = Array.isArray(bestFor) ? bestFor.map(b => extractValue(b)) : [];\n\n  // Handle image loading errors\n  const handleImageError = () => {\n    console.log(`Image failed to load for book: ${title}`);\n    setImgError(true);\n  };\n\n  // Determine what image URL to use\n  const getImageUrl = () => {\n    if (imgError || !coverImage || coverImage.includes('placeholder') || coverImage.includes('no-cover')) {\n      // Create a simple solid color with title as text, using data URI\n      const color = stringToColor(`${title}${author}`);\n      return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='225' viewBox='0 0 150 225'%3E%3Crect width='150' height='225' fill='%23${color}' /%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' text-anchor='middle' fill='white' dominant-baseline='middle'%3E${encodeURIComponent(title.substring(0, 20))}%3C/text%3E%3C/svg%3E`;\n    }\n    return coverImage;\n  };\n\n  // Generate a consistent color based on a string\n  const stringToColor = str => {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    let color = '';\n    for (let i = 0; i < 3; i++) {\n      const value = hash >> i * 8 & 0xFF;\n      color += ('00' + value.toString(16)).substr(-2);\n    }\n    return color;\n  };\n  useEffect(() => {\n    // Simulate fetching book quotes from an external source\n    // In a real implementation, this would call an API\n    generateUniqueBookQuotes();\n  }, [title, author]);\n  const generateUniqueBookQuotes = () => {\n    // This simulates NLP-processed quotes that would come from external APIs\n    // In a real implementation, these would come from Goodreads, Reddit, etc.\n\n    // Generate a hash from title and author to ensure different books get different quotes\n    const bookHash = (title.length * 3 + author.length * 5) % 10;\n    const notableQuotes = [`\"The truth was a mirror in the hands of God. It fell and broke into pieces. Everybody took a piece of it, and they looked at it and thought they had the truth.\"`, `\"Sometimes the heart sees what is invisible to the eye.\"`, `\"Life is not a problem to be solved, but a reality to be experienced.\"`, `\"Tell me and I forget, teach me and I may remember, involve me and I learn.\"`, `\"The future belongs to those who believe in the beauty of their dreams.\"`, `\"In the end, we will remember not the words of our enemies, but the silence of our friends.\"`, `\"The greatest glory in living lies not in never falling, but in rising every time we fall.\"`, `\"The journey of a thousand miles begins with one step.\"`, `\"It is during our darkest moments that we must focus to see the light.\"`, `\"Whoever fights monsters should see to it that in the process he does not become a monster.\"`];\n    const readerFavorites = [`The author's examination of human nature reveals profound truths about our collective consciousness.`, `The vivid imagery and meticulous world-building create an immersive experience unlike any other.`, `The way complex ideas are distilled into accessible wisdom is what makes this text timeless.`, `Readers consistently highlight the transformative power of the central metaphor.`, `The deftly crafted character development offers insights into our own personal growth journeys.`, `The elegant prose and rhythmic pacing create a reading experience that stays with you.`, `The surprising revelations in chapter three have become a cultural touchpoint for many readers.`, `The practical frameworks presented have influenced countless business leaders and thinkers.`, `The nuanced exploration of ethical dilemmas invites readers to examine their own moral compass.`, `The author's unique perspective challenges conventional thinking in ways that remain relevant today.`];\n    setBookQuote(notableQuotes[bookHash]);\n    setReaderFavorite(readerFavorites[bookHash]);\n  };\n  const getPaceIcon = () => {\n    const paceValue = typeof pace === 'string' ? pace : pace.value;\n    switch (paceValue) {\n      case 'Slow':\n        return /*#__PURE__*/_jsxDEV(CloudIcon, {\n          className: \"h-4 w-4 text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 16\n        }, this);\n      case 'Fast':\n        return /*#__PURE__*/_jsxDEV(BoltIcon, {\n          className: \"h-4 w-4 text-amber-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 16\n        }, this);\n      case 'Very Fast':\n        return /*#__PURE__*/_jsxDEV(FireIcon, {\n          className: \"h-4 w-4 text-orange-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(ClockIcon, {\n          className: \"h-4 w-4 text-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const paceString = typeof pace === 'string' ? pace : pace.value;\n\n  // CSS classes for pills to ensure consistent appearance\n  const pillClass = \"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full whitespace-nowrap\";\n  const themePillClass = `${pillClass} bg-primary-50 text-primary-600 border border-primary-200 dark:bg-primary-800 dark:text-primary-300 dark:border-primary-600`;\n  const bestForPillClass = `${pillClass} bg-primary-100 text-primary-700 dark:bg-primary-700 dark:text-primary-200`;\n  const bestForClickablePillClass = `${bestForPillClass} cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-600 transition-colors`;\n  const morePillClass = `${pillClass} bg-primary-100 text-primary-700 dark:bg-primary-700 dark:text-primary-200 cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-600`;\n\n  // Toggle functions for expanding pill sections\n  const toggleThemes = e => {\n    e.stopPropagation();\n    setShowAllThemes(!showAllThemes);\n  };\n  const toggleBestFor = e => {\n    e.stopPropagation();\n    setShowAllBestFor(!showAllBestFor);\n  };\n  const toggleTone = e => {\n    e.stopPropagation();\n    setShowAllTone(!showAllTone);\n  };\n\n  // Function to navigate to search page with profession filter\n  const handleProfessionSearch = (profession, e) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    // Map the job title to a profession category if available\n    const mappedProfession = professionMapping[profession] || profession;\n    console.log(`Searching for profession: ${profession} -> ${mappedProfession}`);\n\n    // Navigate to books page with search parameters\n    if (mappedProfession) {\n      navigate(`/books?query=${encodeURIComponent(mappedProfession)}&type=profession`);\n    } else {\n      // If no mapping exists, search with the original term\n      navigate(`/books?query=${encodeURIComponent(profession)}&type=profession`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    whileHover: {\n      y: -5\n    },\n    className: \"card hover:shadow-lg transition-all duration-300\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"w-24 h-36 flex-shrink-0 relative\",\n        whileHover: {\n          scale: 1.05\n        },\n        transition: {\n          duration: 0.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: getImageUrl(),\n          alt: `${title} cover`,\n          className: \"w-full h-full object-cover rounded-lg shadow-md\",\n          onError: handleImageError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), isExternal && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          className: \"absolute top-0 right-0 bg-blue-500 text-white p-1 rounded-bl-lg rounded-tr-lg\",\n          children: /*#__PURE__*/_jsxDEV(CloudIcon, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(BookDNA, {\n          pace: paceString,\n          tone: processedTone,\n          themes: processedThemes,\n          size: \"md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(motion.h3, {\n            className: \"text-lg font-semibold\",\n            whileHover: {\n              color: '#4F46E5'\n            },\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), isExternal && /*#__PURE__*/_jsxDEV(motion.span, {\n            initial: {\n              opacity: 0,\n              scale: 0.8\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            className: \"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full\",\n            children: \"External\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primary-600 mb-2\",\n          children: author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"flex items-center gap-2 mb-2\",\n          whileHover: {\n            scale: 1.02\n          },\n          children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n            className: \"w-4 h-4 text-primary-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-primary-600\",\n            children: [paceString, \" paced\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), (processedTone.length > 0 || processedThemes.length > 0) && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"flex flex-wrap gap-2 mb-2\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            delay: 0.2\n          },\n          children: [processedTone.map(t => /*#__PURE__*/_jsxDEV(motion.span, {\n            whileHover: {\n              scale: 1.1\n            },\n            className: \"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full\",\n            children: t\n          }, t, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this)), processedThemes.map(theme => /*#__PURE__*/_jsxDEV(motion.span, {\n            whileHover: {\n              scale: 1.1\n            },\n            className: \"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full\",\n            children: theme\n          }, theme, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(motion.p, {\n          className: \"text-sm text-primary-700 mb-2 line-clamp-2\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            delay: 0.3\n          },\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), bestFor.length > 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"flex flex-wrap gap-2\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            delay: 0.4\n          },\n          children: bestFor.map(scenario => /*#__PURE__*/_jsxDEV(motion.span, {\n            whileHover: {\n              scale: 1.05\n            },\n            className: \"text-xs bg-primary-50 text-primary-600 px-2 py-1 rounded-full\",\n            children: scenario\n          }, scenario, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"flex gap-2 mt-3\",\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            delay: 0.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: \"btn btn-primary text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n              className: \"w-4 h-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), \"Read\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), !isExternal && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"btn btn-secondary text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(HeartIcon, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), \"Save\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"btn btn-ghost text-sm\",\n              children: /*#__PURE__*/_jsxDEV(BookmarkIcon, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCard, \"yf8uZ2wzhFPspSWZLqepmHbCY5g=\", false, function () {\n  return [useNavigate];\n});\n_c = BookCard;\nvar _c;\n$RefreshReg$(_c, \"BookCard\");","map":{"version":3,"names":["React","useState","useEffect","BookOpenIcon","ClockIcon","HeartIcon","BookmarkIcon","CloudIcon","BoltIcon","FireIcon","useNavigate","motion","BookDNA","jsxDEV","_jsxDEV","Fragment","_Fragment","professionMapping","extractValue","item","undefined","value","String","BookCard","title","author","coverImage","pace","tone","themes","description","bestFor","isExternal","quote","mostQuoted","_s","navigate","isExpanded","setIsExpanded","bookQuote","setBookQuote","readerFavorite","setReaderFavorite","imgError","setImgError","showAllThemes","setShowAllThemes","showAllBestFor","setShowAllBestFor","showAllTone","setShowAllTone","MAX_VISIBLE_THEMES","MAX_VISIBLE_BESTFOR","MAX_VISIBLE_TONE","processedTone","Array","isArray","map","t","processedThemes","processedBestFor","b","handleImageError","console","log","getImageUrl","includes","color","stringToColor","encodeURIComponent","substring","str","hash","i","length","charCodeAt","toString","substr","generateUniqueBookQuotes","bookHash","notableQuotes","readerFavorites","getPaceIcon","paceValue","className","fileName","_jsxFileName","lineNumber","columnNumber","paceString","pillClass","themePillClass","bestForPillClass","bestForClickablePillClass","morePillClass","toggleThemes","e","stopPropagation","toggleBestFor","toggleTone","handleProfessionSearch","profession","preventDefault","mappedProfession","div","whileHover","y","children","scale","transition","duration","src","alt","onError","initial","opacity","animate","size","h3","span","delay","theme","p","scenario","button","whileTap","_c","$RefreshReg$"],"sources":["/Users/Projects/ChapterOne/src/components/features/BookCard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  BookOpenIcon, \n  ClockIcon, \n  HeartIcon, \n  BookmarkIcon, \n  CloudIcon, \n  BoltIcon,\n  FireIcon,\n  SparklesIcon,\n  UserGroupIcon,\n  HashtagIcon,\n  ChatBubbleBottomCenterTextIcon,\n  ChatBubbleLeftRightIcon\n} from '@heroicons/react/24/outline';\nimport { Pace } from '../../types';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { BookDNA } from './BookDNA';\n\n// Mapping of job titles to profession categories for search\nconst professionMapping: Record<string, string> = {\n  'Product Managers': 'Product Management',\n  'Product Manager': 'Product Management',\n  'Product managers': 'Product Management',\n  'product manager': 'Product Management',\n  'product managers': 'Product Management',\n  'Software Engineers': 'Software Engineering',\n  'Software Engineer': 'Software Engineering',\n  'software engineers': 'Software Engineering',\n  'software engineer': 'Software Engineering',\n  'Data Scientists': 'Data Science',\n  'Data Scientist': 'Data Science',\n  'data scientists': 'Data Science',\n  'data scientist': 'Data Science',\n  'UX Designers': 'UX Design',\n  'UX Designer': 'UX Design',\n  'ux designers': 'UX Design',\n  'ux designer': 'UX Design',\n  'Marketers': 'Marketing',\n  'Marketer': 'Marketing',\n  'marketers': 'Marketing',\n  'marketer': 'Marketing',\n  'Business Analysts': 'Business Analysis',\n  'Business Analyst': 'Business Analysis',\n  'business analysts': 'Business Analysis',\n  'business analyst': 'Business Analysis',\n  'Entrepreneurs': 'Entrepreneurship',\n  'Entrepreneur': 'Entrepreneurship',\n  'entrepreneurs': 'Entrepreneurship',\n  'entrepreneur': 'Entrepreneurship',\n  'Consultants': 'Consulting',\n  'Consultant': 'Consulting',\n  'consultants': 'Consulting',\n  'consultant': 'Consulting',\n  'Project Managers': 'Project Management',\n  'Project Manager': 'Project Management',\n  'project managers': 'Project Management',\n  'project manager': 'Project Management',\n  'Executives': 'Executive Leadership',\n  'Executive': 'Executive Leadership',\n  'executives': 'Executive Leadership',\n  'executive': 'Executive Leadership',\n  'HR Professionals': 'Human Resources',\n  'HR Professional': 'Human Resources',\n  'hr professionals': 'Human Resources',\n  'hr professional': 'Human Resources',\n  'Sales Representatives': 'Sales',\n  'Sales Representative': 'Sales',\n  'sales representatives': 'Sales',\n  'sales representative': 'Sales',\n  'Financial Analysts': 'Finance',\n  'Financial Analyst': 'Finance',\n  'financial analysts': 'Finance',\n  'financial analyst': 'Finance',\n  'Students': 'Education',\n  'Student': 'Education',\n  'students': 'Education',\n  'student': 'Education',\n  'Researchers': 'Research',\n  'Researcher': 'Research',\n  'researchers': 'Research',\n  'researcher': 'Research',\n  'Healthcare Professionals': 'Healthcare',\n  'Healthcare Professional': 'Healthcare',\n  'healthcare professionals': 'Healthcare',\n  'healthcare professional': 'Healthcare',\n  'Legal Professionals': 'Legal',\n  'Legal Professional': 'Legal',\n  'legal professionals': 'Legal',\n  'legal professional': 'Legal'\n};\n\ninterface BookCardProps {\n  title: string;\n  author: string;\n  coverImage?: string;\n  pace?: Pace | { type: string; value: string };\n  tone?: (string | { type: string; value: string })[];\n  themes?: (string | { type: string; value: string })[];\n  description?: string;\n  bestFor?: string[];\n  isExternal?: boolean;\n  quote?: string;\n  mostQuoted?: string;\n}\n\n// Helper function to safely get a value from an object or return the value itself\nconst extractValue = (item: any): string => {\n  if (item === null || item === undefined) {\n    return '';\n  }\n  if (typeof item === 'object' && 'value' in item) {\n    return item.value;\n  }\n  return String(item);\n};\n\nexport const BookCard = ({\n  title,\n  author,\n  coverImage = 'https://via.placeholder.com/150x225?text=No+Cover',\n  pace = 'Moderate',\n  tone = [],\n  themes = [],\n  description = 'No description available',\n  bestFor = [],\n  isExternal = false,\n  quote,\n  mostQuoted\n}: BookCardProps) => {\n  const navigate = useNavigate();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [bookQuote, setBookQuote] = useState('');\n  const [readerFavorite, setReaderFavorite] = useState('');\n  const [imgError, setImgError] = useState(false);\n  \n  // State to track expanded state for specific categories\n  const [showAllThemes, setShowAllThemes] = useState(false);\n  const [showAllBestFor, setShowAllBestFor] = useState(false);\n  const [showAllTone, setShowAllTone] = useState(false);\n\n  // Maximum items to show in a row before adding \"+X more\"\n  const MAX_VISIBLE_THEMES = 2;\n  const MAX_VISIBLE_BESTFOR = 2;\n  const MAX_VISIBLE_TONE = 3;\n\n  // Process data to handle both string and object formats\n  const processedTone = Array.isArray(tone) \n    ? tone.map(t => extractValue(t)) \n    : [];\n    \n  const processedThemes = Array.isArray(themes) \n    ? themes.map(t => extractValue(t)) \n    : [];\n\n  // Ensure bestFor is always an array of strings\n  const processedBestFor = Array.isArray(bestFor) \n    ? bestFor.map(b => extractValue(b)) \n    : [];\n\n  // Handle image loading errors\n  const handleImageError = () => {\n    console.log(`Image failed to load for book: ${title}`);\n    setImgError(true);\n  };\n\n  // Determine what image URL to use\n  const getImageUrl = () => {\n    if (imgError || !coverImage || coverImage.includes('placeholder') || coverImage.includes('no-cover')) {\n      // Create a simple solid color with title as text, using data URI\n      const color = stringToColor(`${title}${author}`);\n      return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='225' viewBox='0 0 150 225'%3E%3Crect width='150' height='225' fill='%23${color}' /%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' text-anchor='middle' fill='white' dominant-baseline='middle'%3E${encodeURIComponent(title.substring(0, 20))}%3C/text%3E%3C/svg%3E`;\n    }\n    return coverImage;\n  };\n\n  // Generate a consistent color based on a string\n  const stringToColor = (str: string) => {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    let color = '';\n    for (let i = 0; i < 3; i++) {\n      const value = (hash >> (i * 8)) & 0xFF;\n      color += ('00' + value.toString(16)).substr(-2);\n    }\n    return color;\n  };\n\n  useEffect(() => {\n    // Simulate fetching book quotes from an external source\n    // In a real implementation, this would call an API\n    generateUniqueBookQuotes();\n  }, [title, author]);\n\n  const generateUniqueBookQuotes = () => {\n    // This simulates NLP-processed quotes that would come from external APIs\n    // In a real implementation, these would come from Goodreads, Reddit, etc.\n    \n    // Generate a hash from title and author to ensure different books get different quotes\n    const bookHash = (title.length * 3 + author.length * 5) % 10;\n    \n    const notableQuotes = [\n      `\"The truth was a mirror in the hands of God. It fell and broke into pieces. Everybody took a piece of it, and they looked at it and thought they had the truth.\"`,\n      `\"Sometimes the heart sees what is invisible to the eye.\"`,\n      `\"Life is not a problem to be solved, but a reality to be experienced.\"`,\n      `\"Tell me and I forget, teach me and I may remember, involve me and I learn.\"`,\n      `\"The future belongs to those who believe in the beauty of their dreams.\"`,\n      `\"In the end, we will remember not the words of our enemies, but the silence of our friends.\"`,\n      `\"The greatest glory in living lies not in never falling, but in rising every time we fall.\"`,\n      `\"The journey of a thousand miles begins with one step.\"`,\n      `\"It is during our darkest moments that we must focus to see the light.\"`,\n      `\"Whoever fights monsters should see to it that in the process he does not become a monster.\"`\n    ];\n    \n    const readerFavorites = [\n      `The author's examination of human nature reveals profound truths about our collective consciousness.`,\n      `The vivid imagery and meticulous world-building create an immersive experience unlike any other.`,\n      `The way complex ideas are distilled into accessible wisdom is what makes this text timeless.`,\n      `Readers consistently highlight the transformative power of the central metaphor.`,\n      `The deftly crafted character development offers insights into our own personal growth journeys.`,\n      `The elegant prose and rhythmic pacing create a reading experience that stays with you.`,\n      `The surprising revelations in chapter three have become a cultural touchpoint for many readers.`,\n      `The practical frameworks presented have influenced countless business leaders and thinkers.`,\n      `The nuanced exploration of ethical dilemmas invites readers to examine their own moral compass.`,\n      `The author's unique perspective challenges conventional thinking in ways that remain relevant today.`\n    ];\n    \n    setBookQuote(notableQuotes[bookHash]);\n    setReaderFavorite(readerFavorites[bookHash]);\n  };\n\n  const getPaceIcon = () => {\n    const paceValue = typeof pace === 'string' ? pace : pace.value;\n    \n    switch (paceValue) {\n      case 'Slow':\n        return <CloudIcon className=\"h-4 w-4 text-blue-500\" />;\n      case 'Fast':\n        return <BoltIcon className=\"h-4 w-4 text-amber-500\" />;\n      case 'Very Fast':\n        return <FireIcon className=\"h-4 w-4 text-orange-500\" />;\n      default:\n        return <ClockIcon className=\"h-4 w-4 text-indigo-500\" />;\n    }\n  };\n\n  const paceString = typeof pace === 'string' ? pace : pace.value;\n\n  // CSS classes for pills to ensure consistent appearance\n  const pillClass = \"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full whitespace-nowrap\";\n  const themePillClass = `${pillClass} bg-primary-50 text-primary-600 border border-primary-200 dark:bg-primary-800 dark:text-primary-300 dark:border-primary-600`;\n  const bestForPillClass = `${pillClass} bg-primary-100 text-primary-700 dark:bg-primary-700 dark:text-primary-200`;\n  const bestForClickablePillClass = `${bestForPillClass} cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-600 transition-colors`;\n  const morePillClass = `${pillClass} bg-primary-100 text-primary-700 dark:bg-primary-700 dark:text-primary-200 cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-600`;\n\n  // Toggle functions for expanding pill sections\n  const toggleThemes = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowAllThemes(!showAllThemes);\n  };\n\n  const toggleBestFor = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowAllBestFor(!showAllBestFor);\n  };\n\n  const toggleTone = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowAllTone(!showAllTone);\n  };\n\n  // Function to navigate to search page with profession filter\n  const handleProfessionSearch = (profession: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    \n    // Map the job title to a profession category if available\n    const mappedProfession = professionMapping[profession] || profession;\n    \n    console.log(`Searching for profession: ${profession} -> ${mappedProfession}`);\n    \n    // Navigate to books page with search parameters\n    if (mappedProfession) {\n      navigate(`/books?query=${encodeURIComponent(mappedProfession)}&type=profession`);\n    } else {\n      // If no mapping exists, search with the original term\n      navigate(`/books?query=${encodeURIComponent(profession)}&type=profession`);\n    }\n  };\n\n  return (\n    <motion.div\n      whileHover={{ y: -5 }}\n      className=\"card hover:shadow-lg transition-all duration-300\"\n    >\n      <div className=\"flex gap-4\">\n        {/* Book Cover */}\n        <motion.div \n          className=\"w-24 h-36 flex-shrink-0 relative\"\n          whileHover={{ scale: 1.05 }}\n          transition={{ duration: 0.2 }}\n        >\n          <img\n            src={getImageUrl()}\n            alt={`${title} cover`}\n            className=\"w-full h-full object-cover rounded-lg shadow-md\"\n            onError={handleImageError}\n          />\n          {isExternal && (\n            <motion.div \n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"absolute top-0 right-0 bg-blue-500 text-white p-1 rounded-bl-lg rounded-tr-lg\"\n            >\n              <CloudIcon className=\"w-4 h-4\" />\n            </motion.div>\n          )}\n        </motion.div>\n\n        {/* Book DNA Visualization */}\n        <div className=\"flex-shrink-0 flex items-center justify-center\">\n          <BookDNA \n            pace={paceString}\n            tone={processedTone}\n            themes={processedThemes}\n            size=\"md\"\n          />\n        </div>\n\n        {/* Book Info */}\n        <div className=\"flex-1\">\n          <div className=\"flex justify-between items-start\">\n            <motion.h3 \n              className=\"text-lg font-semibold\"\n              whileHover={{ color: '#4F46E5' }}\n            >\n              {title}\n            </motion.h3>\n            {isExternal && (\n              <motion.span \n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full\"\n              >\n                External\n              </motion.span>\n            )}\n          </div>\n          <p className=\"text-primary-600 mb-2\">{author}</p>\n\n          {/* Quick Tags */}\n          <motion.div \n            className=\"flex items-center gap-2 mb-2\"\n            whileHover={{ scale: 1.02 }}\n          >\n            <ClockIcon className=\"w-4 h-4 text-primary-500\" />\n            <span className=\"text-sm text-primary-600\">{paceString} paced</span>\n          </motion.div>\n\n          {/* Tone & Themes */}\n          {(processedTone.length > 0 || processedThemes.length > 0) && (\n            <motion.div \n              className=\"flex flex-wrap gap-2 mb-2\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.2 }}\n            >\n              {processedTone.map((t) => (\n                <motion.span\n                  key={t}\n                  whileHover={{ scale: 1.1 }}\n                  className=\"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full\"\n                >\n                  {t}\n                </motion.span>\n              ))}\n              {processedThemes.map((theme) => (\n                <motion.span\n                  key={theme}\n                  whileHover={{ scale: 1.1 }}\n                  className=\"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full\"\n                >\n                  {theme}\n                </motion.span>\n              ))}\n            </motion.div>\n          )}\n\n          {/* Description */}\n          <motion.p \n            className=\"text-sm text-primary-700 mb-2 line-clamp-2\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.3 }}\n          >\n            {description}\n          </motion.p>\n\n          {/* Best For */}\n          {bestFor.length > 0 && (\n            <motion.div \n              className=\"flex flex-wrap gap-2\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n            >\n              {bestFor.map((scenario) => (\n                <motion.span\n                  key={scenario}\n                  whileHover={{ scale: 1.05 }}\n                  className=\"text-xs bg-primary-50 text-primary-600 px-2 py-1 rounded-full\"\n                >\n                  {scenario}\n                </motion.span>\n              ))}\n            </motion.div>\n          )}\n\n          {/* Actions */}\n          <motion.div \n            className=\"flex gap-2 mt-3\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.5 }}\n          >\n            <motion.button \n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"btn btn-primary text-sm\"\n            >\n              <BookOpenIcon className=\"w-4 h-4 mr-1\" />\n              Read\n            </motion.button>\n            {!isExternal && (\n              <>\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"btn btn-secondary text-sm\"\n                >\n                  <HeartIcon className=\"w-4 h-4 mr-1\" />\n                  Save\n                </motion.button>\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"btn btn-ghost text-sm\"\n                >\n                  <BookmarkIcon className=\"w-4 h-4\" />\n                </motion.button>\n              </>\n            )}\n          </motion.div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}