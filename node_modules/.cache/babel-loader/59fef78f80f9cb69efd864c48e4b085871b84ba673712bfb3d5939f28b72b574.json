{"ast":null,"code":"var _jsxFileName = \"/Users/ChapterOne/src/components/features/BooksPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { BookCard } from './BookCard';\nimport { SearchBar } from './SearchBar';\nimport { Switch } from '../ui/Switch';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\n// Interface for Pace objects that might be returned from API\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Helper function to safely extract value from an object or return the value itself\nconst extractValue = item => {\n  if (typeof item === 'object' && item !== null && 'value' in item) {\n    return item.value;\n  }\n  return (item === null || item === void 0 ? void 0 : item.toString()) || '';\n};\n\n// Add more books for each theme (5 for each major category)\nconst featuredBooks = [\n// Science Fiction\n{\n  id: \"sf-dune-1\",\n  title: \"Dune\",\n  author: \"Frank Herbert\",\n  publishedYear: 1965,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1555447414i/44767458.jpg\",\n  description: \"Set on the desert planet Arrakis, Dune is the story of the boy Paul Atreides, heir to a noble family tasked with ruling an inhospitable world where the only thing of value is the \\\"spice\\\" melange, a drug capable of extending life and enhancing consciousness.\",\n  rating: 4.7,\n  pace: \"Moderate\",\n  tone: [\"Epic\", \"Philosophical\", \"Political\", \"Atmospheric\", \"Complex\"],\n  themes: [\"Power\", \"Religion\", \"Ecology\", \"Politics\", \"Destiny\", \"Survival\"],\n  bestFor: [\"Science Fiction Fans\", \"Political Theorists\", \"Philosophers\", \"Environmental Scientists\"],\n  professions: [\"Political Scientists\", \"Ecologists\", \"Futurists\", \"Philosophers\"],\n  isExternal: false,\n  pageCount: 658,\n  categories: [\"Science Fiction\", \"Classic\", \"Space Opera\"]\n}, {\n  id: \"sf-neuromancer-1\",\n  title: \"Neuromancer\",\n  author: \"William Gibson\",\n  publishedYear: 1984,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1554437249i/6088007.jpg\",\n  description: \"The Matrix is a world within the world, a global consensus-hallucination, the representation of every byte of data in cyberspace.\",\n  rating: 4.5,\n  pace: \"Fast\",\n  tone: [\"Gritty\", \"Dystopian\", \"Cyberpunk\", \"Edgy\", \"Prophetic\"],\n  themes: [\"Technology\", \"Artificial Intelligence\", \"Identity\", \"Cyberspace\", \"Corporate Power\"],\n  bestFor: [\"Technology Enthusiasts\", \"Cyberpunk Fans\", \"Futurists\", \"Programmers\"],\n  professions: [\"Software Engineers\", \"Data Scientists\", \"Tech Entrepreneurs\", \"Futurists\"],\n  isExternal: false,\n  pageCount: 271,\n  categories: [\"Science Fiction\", \"Cyberpunk\", \"Classic\"]\n}, {\n  id: \"sf-hyperion-1\",\n  title: \"Hyperion\",\n  author: \"Dan Simmons\",\n  publishedYear: 1989,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1405546838i/77566.jpg\",\n  description: \"On the world called Hyperion, beyond the reach of galactic law, waits a creature called the Shrike. There are those who worship it. There are those who fear it. And there are those who have vowed to destroy it.\",\n  rating: 4.6,\n  pace: \"Moderate\",\n  tone: [\"Literary\", \"Complex\", \"Philosophical\", \"Mysterious\", \"Epic\"],\n  themes: [\"Time\", \"Religion\", \"Artificial Intelligence\", \"Sacrifice\", \"Humanity\"],\n  bestFor: [\"Science Fiction Enthusiasts\", \"Literary Fiction Readers\", \"Philosophers\"],\n  professions: [\"Writers\", \"Philosophers\", \"Religious Scholars\", \"Scientists\"],\n  isExternal: false,\n  pageCount: 482,\n  categories: [\"Science Fiction\", \"Space Opera\"]\n}, {\n  id: \"sf-foundation-1\",\n  title: \"Foundation\",\n  author: \"Isaac Asimov\",\n  publishedYear: 1951,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1417900846i/29579.jpg\",\n  description: \"For twelve thousand years the Galactic Empire has ruled supreme. Now it is dying. But only Hari Seldon, creator of the revolutionary science of psychohistory, can see into the future.\",\n  rating: 4.4,\n  pace: \"Moderate\",\n  tone: [\"Intellectual\", \"Visionary\", \"Political\", \"Classic\"],\n  themes: [\"Society\", \"History\", \"Mathematics\", \"Power\", \"Civilization\"],\n  bestFor: [\"Science Fiction Fans\", \"Mathematicians\", \"Historians\", \"Political Scientists\"],\n  professions: [\"Mathematicians\", \"Social Scientists\", \"Historians\", \"Policy Makers\"],\n  isExternal: false,\n  pageCount: 244,\n  categories: [\"Science Fiction\", \"Classic\"]\n}, {\n  id: \"sf-enders-game-1\",\n  title: \"Ender's Game\",\n  author: \"Orson Scott Card\",\n  publishedYear: 1985,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1408303130i/375802.jpg\",\n  description: \"In order to develop a secure defense against a hostile alien race's next attack, government agencies breed child geniuses and train them as soldiers.\",\n  rating: 4.5,\n  pace: \"Fast\",\n  tone: [\"Suspenseful\", \"Military\", \"Coming-of-age\", \"Thought-provoking\"],\n  themes: [\"War\", \"Leadership\", \"Ethics\", \"Childhood\", \"Manipulation\"],\n  bestFor: [\"Young Adults\", \"Strategy Enthusiasts\", \"Military Fiction Fans\"],\n  professions: [\"Military Strategists\", \"Teachers\", \"Game Designers\", \"Psychologists\"],\n  isExternal: false,\n  pageCount: 324,\n  categories: [\"Science Fiction\", \"Military Science Fiction\"]\n},\n// Fantasy\n{\n  id: \"fantasy-lotr-1\",\n  title: \"The Lord of the Rings\",\n  author: \"J.R.R. Tolkien\",\n  publishedYear: 1954,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1566425108i/33.jpg\",\n  description: \"One Ring to rule them all, One Ring to find them, One Ring to bring them all and in the darkness bind them.\",\n  rating: 4.8,\n  pace: \"Slow\",\n  tone: [\"Epic\", \"Descriptive\", \"Mythic\", \"Poetic\", \"Adventure\"],\n  themes: [\"Good vs Evil\", \"Fellowship\", \"Heroism\", \"Power\", \"Sacrifice\", \"Journey\"],\n  bestFor: [\"Fantasy Lovers\", \"Literary Scholars\", \"Historians\", \"Linguists\"],\n  professions: [\"Writers\", \"Linguists\", \"Mythologists\", \"Historians\"],\n  isExternal: false,\n  pageCount: 1178,\n  categories: [\"Fantasy\", \"Classic\", \"Epic\"]\n}, {\n  id: \"fantasy-name-of-the-wind-1\",\n  title: \"The Name of the Wind\",\n  author: \"Patrick Rothfuss\",\n  publishedYear: 2007,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1270352123i/186074.jpg\",\n  description: \"The intimate narrative of how a young man becomes the most notorious wizard his world has ever seen.\",\n  rating: 4.7,\n  pace: \"Moderate\",\n  tone: [\"Immersive\", \"Lyrical\", \"Character-driven\", \"Coming-of-age\"],\n  themes: [\"Music\", \"Knowledge\", \"Identity\", \"Love\", \"Revenge\"],\n  bestFor: [\"Fantasy Enthusiasts\", \"Musicians\", \"Writers\", \"Students\"],\n  professions: [\"Musicians\", \"Writers\", \"Academics\", \"Educators\"],\n  isExternal: false,\n  pageCount: 662,\n  categories: [\"Fantasy\", \"Epic Fantasy\"]\n}, {\n  id: \"fantasy-mistborn-1\",\n  title: \"Mistborn: The Final Empire\",\n  author: \"Brandon Sanderson\",\n  publishedYear: 2006,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1617768316i/68428.jpg\",\n  description: \"In a world where ash falls from the sky and mist dominates the night, an evil cloaks the land. The Dark Lord has reigned with absolute power for a thousand years.\",\n  rating: 4.7,\n  pace: \"Moderate\",\n  tone: [\"Detailed\", \"Suspenseful\", \"Epic\", \"Dark\", \"Revolutionary\"],\n  themes: [\"Revolution\", \"Magic Systems\", \"Social Classes\", \"Friendship\", \"Identity\"],\n  bestFor: [\"Fantasy Readers\", \"Magic System Enthusiasts\", \"Revolution Storytelling\"],\n  professions: [\"Writers\", \"Game Designers\", \"Political Scientists\", \"Philosophers\"],\n  isExternal: false,\n  pageCount: 541,\n  categories: [\"Fantasy\", \"High Fantasy\"]\n}, {\n  id: \"fantasy-american-gods-1\",\n  title: \"American Gods\",\n  author: \"Neil Gaiman\",\n  publishedYear: 2001,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1462924585i/30165203.jpg\",\n  description: \"A blend of Americana, fantasy, and mythology, telling the story of a war brewing between old and new gods.\",\n  rating: 4.5,\n  pace: \"Slow\",\n  tone: [\"Dark\", \"Mythic\", \"Surreal\", \"Atmospheric\", \"Road Trip\"],\n  themes: [\"Religion\", \"Identity\", \"America\", \"Belief\", \"Immigration\"],\n  bestFor: [\"Mythology Enthusiasts\", \"Cultural Anthropologists\", \"American Culture Students\"],\n  professions: [\"Anthropologists\", \"Religious Scholars\", \"Cultural Critics\", \"Writers\"],\n  isExternal: false,\n  pageCount: 635,\n  categories: [\"Fantasy\", \"Mythology\", \"Urban Fantasy\"]\n}, {\n  id: \"fantasy-game-of-thrones-1\",\n  title: \"A Game of Thrones\",\n  author: \"George R.R. Martin\",\n  publishedYear: 1996,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1562726234i/13496.jpg\",\n  description: \"Summers span decades. Winter can last a lifetime. And the struggle for the Iron Throne has begun.\",\n  rating: 4.6,\n  pace: \"Moderate\",\n  tone: [\"Gritty\", \"Political\", \"Realistic\", \"Complex\", \"Brutal\"],\n  themes: [\"Power\", \"Politics\", \"War\", \"Family\", \"Loyalty\", \"Betrayal\"],\n  bestFor: [\"Political Strategy Fans\", \"Medieval History Buffs\", \"Complex Character Enthusiasts\"],\n  professions: [\"Political Scientists\", \"Historians\", \"Strategic Planners\", \"Diplomats\"],\n  isExternal: false,\n  pageCount: 835,\n  categories: [\"Fantasy\", \"Epic Fantasy\", \"Political Fantasy\"]\n},\n// Romance\n{\n  id: \"romance-pride-1\",\n  title: \"Pride and Prejudice\",\n  author: \"Jane Austen\",\n  publishedYear: 1813,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1320399351i/1885.jpg\",\n  description: \"Since its immediate success in 1813, Pride and Prejudice has remained one of the most popular novels in the English language.\",\n  rating: 4.6,\n  pace: \"Moderate\",\n  tone: [\"Witty\", \"Ironic\", \"Romantic\", \"Satirical\", \"Elegant\"],\n  themes: [\"Social Class\", \"Marriage\", \"Pride\", \"Prejudice\", \"Love\", \"Self-discovery\"],\n  bestFor: [\"Romance Readers\", \"Literary Critics\", \"Sociologists\", \"Feminists\"],\n  professions: [\"English Professors\", \"Sociologists\", \"Journalists\", \"Writers\"],\n  isExternal: false,\n  pageCount: 279,\n  categories: [\"Romance\", \"Classic\", \"Literary Fiction\"]\n}, {\n  id: \"romance-jane-eyre-1\",\n  title: \"Jane Eyre\",\n  author: \"Charlotte Brontë\",\n  publishedYear: 1847,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1557343311i/10210.jpg\",\n  description: \"Jane Eyre follows the emotions and experiences of its title character, as she grows from an orphan into a governess, and falls in love with the master of the house.\",\n  rating: 4.5,\n  pace: \"Moderate\",\n  tone: [\"Gothic\", \"Romantic\", \"Passionate\", \"Mysterious\", \"Feminist\"],\n  themes: [\"Love\", \"Independence\", \"Social Class\", \"Gender\", \"Morality\"],\n  bestFor: [\"Romance Readers\", \"Gothic Literature Fans\", \"Feminist Studies\"],\n  professions: [\"Teachers\", \"Writers\", \"Psychologists\", \"Social Workers\"],\n  isExternal: false,\n  pageCount: 532,\n  categories: [\"Romance\", \"Classic\", \"Gothic\"]\n}, {\n  id: \"romance-outlander-1\",\n  title: \"Outlander\",\n  author: \"Diana Gabaldon\",\n  publishedYear: 1991,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1529065012i/10964.jpg\",\n  description: \"The year is 1945. Claire Randall, a former combat nurse, is just back from the war and reunited with her husband on a second honeymoon when she walks through a standing stone in one of the ancient circles that dot the British Isles.\",\n  rating: 4.6,\n  pace: \"Moderate\",\n  tone: [\"Historical\", \"Romantic\", \"Adventure\", \"Detailed\", \"Time-travel\"],\n  themes: [\"Love\", \"Time Travel\", \"History\", \"Survival\", \"Identity\"],\n  bestFor: [\"Historical Fiction Fans\", \"Romance Readers\", \"Adventure Enthusiasts\"],\n  professions: [\"Historians\", \"Nurses\", \"Archaeologists\", \"Writers\"],\n  isExternal: false,\n  pageCount: 850,\n  categories: [\"Romance\", \"Historical Fiction\", \"Fantasy\"]\n}, {\n  id: \"romance-notebook-1\",\n  title: \"The Notebook\",\n  author: \"Nicholas Sparks\",\n  publishedYear: 1996,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1483183484i/33648131.jpg\",\n  description: \"A story of miracles and emotions that make us laugh, cry, and hope.\",\n  rating: 4.4,\n  pace: \"Fast\",\n  tone: [\"Emotional\", \"Nostalgic\", \"Sentimental\", \"Heartwarming\"],\n  themes: [\"Love\", \"Memory\", \"Aging\", \"Devotion\", \"Sacrifice\"],\n  bestFor: [\"Romance Enthusiasts\", \"Emotional Story Lovers\", \"Relationship Studies\"],\n  professions: [\"Healthcare Workers\", \"Elderly Care Specialists\", \"Therapists\", \"Writers\"],\n  isExternal: false,\n  pageCount: 214,\n  categories: [\"Romance\", \"Contemporary\", \"Fiction\"]\n}, {\n  id: \"romance-normal-people-1\",\n  title: \"Normal People\",\n  author: \"Sally Rooney\",\n  publishedYear: 2018,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1571423190i/41057294.jpg\",\n  description: \"Follows the complex friendship and relationship between two teenagers who pretend not to know each other at school but forge a connection that changes their lives.\",\n  rating: 4.3,\n  pace: \"Moderate\",\n  tone: [\"Contemporary\", \"Intimate\", \"Realistic\", \"Melancholic\", \"Character-driven\"],\n  themes: [\"Love\", \"Class\", \"Communication\", \"Mental Health\", \"Identity\"],\n  bestFor: [\"Contemporary Fiction Readers\", \"Young Adults\", \"Social Dynamics Students\"],\n  professions: [\"Psychologists\", \"Sociologists\", \"Educators\", \"Social Workers\"],\n  isExternal: false,\n  pageCount: 273,\n  categories: [\"Romance\", \"Contemporary\", \"Literary Fiction\"]\n},\n// Non-fiction\n{\n  id: \"nonfiction-thinking-1\",\n  title: \"Thinking, Fast and Slow\",\n  author: \"Daniel Kahneman\",\n  publishedYear: 2011,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1317793965i/11468377.jpg\",\n  description: \"The renowned psychologist and winner of the Nobel Prize in Economics takes us on a groundbreaking tour of the mind and explains the two systems that drive the way we think.\",\n  rating: 4.5,\n  pace: \"Slow\",\n  tone: [\"Academic\", \"Insightful\", \"Analytical\", \"Accessible\", \"Thought-provoking\"],\n  themes: [\"Psychology\", \"Decision Making\", \"Behavioral Economics\", \"Cognitive Biases\", \"Rationality\"],\n  bestFor: [\"Business Leaders\", \"Product Managers\", \"Decision Makers\", \"Psychology Enthusiasts\"],\n  professions: [\"Psychologists\", \"Economists\", \"Product Managers\", \"Executives\", \"Data Scientists\"],\n  isExternal: false,\n  pageCount: 499,\n  categories: [\"Psychology\", \"Non-fiction\", \"Economics\", \"Science\"]\n}, {\n  id: \"nonfiction-sapiens-1\",\n  title: \"Sapiens: A Brief History of Humankind\",\n  author: \"Yuval Noah Harari\",\n  publishedYear: 2011,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1595674533i/23692271.jpg\",\n  description: \"Explores the ways in which biology and history have defined us and enhanced our understanding of what it means to be human.\",\n  rating: 4.7,\n  pace: \"Moderate\",\n  tone: [\"Accessible\", \"Thought-provoking\", \"Engaging\", \"Provocative\", \"Big-picture\"],\n  themes: [\"Human Evolution\", \"History\", \"Anthropology\", \"Society\", \"Culture\"],\n  bestFor: [\"History Enthusiasts\", \"Science Readers\", \"Anthropology Students\", \"Big Picture Thinkers\"],\n  professions: [\"Anthropologists\", \"Historians\", \"Social Scientists\", \"Educators\", \"Futurists\"],\n  isExternal: false,\n  pageCount: 443,\n  categories: [\"History\", \"Non-fiction\", \"Science\", \"Anthropology\"]\n}, {\n  id: \"nonfiction-atomic-habits-1\",\n  title: \"Atomic Habits\",\n  author: \"James Clear\",\n  publishedYear: 2018,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1535115320i/40121378.jpg\",\n  description: \"Tiny Changes, Remarkable Results: An Easy & Proven Way to Build Good Habits & Break Bad Ones.\",\n  rating: 4.8,\n  pace: \"Fast\",\n  tone: [\"Practical\", \"Actionable\", \"Inspiring\", \"Clear\", \"Methodical\"],\n  themes: [\"Habit Formation\", \"Self-Improvement\", \"Psychology\", \"Productivity\", \"Behavior Change\"],\n  bestFor: [\"Self-Help Enthusiasts\", \"Productivity Seekers\", \"Coaches\", \"Managers\"],\n  professions: [\"Coaches\", \"Managers\", \"Entrepreneurs\", \"Teachers\", \"Healthcare Professionals\"],\n  isExternal: false,\n  pageCount: 320,\n  categories: [\"Self-Help\", \"Non-fiction\", \"Psychology\", \"Personal Development\"]\n}, {\n  id: \"nonfiction-educated-1\",\n  title: \"Educated\",\n  author: \"Tara Westover\",\n  publishedYear: 2018,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1506026635i/35133922.jpg\",\n  description: \"A memoir about a young girl who, kept out of school, leaves her survivalist family and goes on to earn a PhD from Cambridge University.\",\n  rating: 4.7,\n  pace: \"Moderate\",\n  tone: [\"Compelling\", \"Inspiring\", \"Raw\", \"Personal\", \"Moving\"],\n  themes: [\"Education\", \"Family\", \"Identity\", \"Resilience\", \"Self-Determination\"],\n  bestFor: [\"Memoir Readers\", \"Educators\", \"Social Workers\", \"Psychology Students\"],\n  professions: [\"Educators\", \"Psychologists\", \"Social Workers\", \"Counselors\"],\n  isExternal: false,\n  pageCount: 334,\n  categories: [\"Memoir\", \"Non-fiction\", \"Biography\", \"Education\"]\n}, {\n  id: \"nonfiction-becoming-1\",\n  title: \"Becoming\",\n  author: \"Michelle Obama\",\n  publishedYear: 2018,\n  coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1528206996i/38746485.jpg\",\n  description: \"In her memoir, Michelle Obama invites readers into her world, chronicling the experiences that have shaped her.\",\n  rating: 4.6,\n  pace: \"Moderate\",\n  tone: [\"Intimate\", \"Inspiring\", \"Reflective\", \"Authentic\", \"Eloquent\"],\n  themes: [\"Identity\", \"Politics\", \"Race\", \"Family\", \"Leadership\"],\n  bestFor: [\"Memoir Readers\", \"Political Science Students\", \"Women Studies\", \"Leadership Development\"],\n  professions: [\"Public Servants\", \"Lawyers\", \"Community Organizers\", \"Educators\", \"Leaders\"],\n  isExternal: false,\n  pageCount: 426,\n  categories: [\"Memoir\", \"Non-fiction\", \"Biography\", \"Politics\"]\n}];\nexport const BooksPage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [books, setBooks] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [includeExternal, setIncludeExternal] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchType, setSearchType] = useState('all');\n\n  // Handle URL search parameters when component loads\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const queryParams = new URLSearchParams(location.search);\n        const queryFromUrl = queryParams.get('query');\n        const typeFromUrl = queryParams.get('type');\n        let data;\n\n        // If there's a search query in the URL, use it to filter books\n        if (queryFromUrl) {\n          setSearchQuery(queryFromUrl);\n          if (typeFromUrl) {\n            setSearchType(typeFromUrl);\n          }\n\n          // Instead of fetching from API, filter our featuredBooks\n          const query = queryFromUrl.toLowerCase();\n          if (typeFromUrl === 'title') {\n            data = featuredBooks.filter(book => book.title.toLowerCase().includes(query));\n          } else if (typeFromUrl === 'author') {\n            data = featuredBooks.filter(book => book.author.toLowerCase().includes(query));\n          } else if (typeFromUrl === 'mood' || typeFromUrl === 'tone') {\n            data = featuredBooks.filter(book => book.tone && book.tone.some(tone => String(tone).toLowerCase().includes(query)));\n          } else if (typeFromUrl === 'theme') {\n            data = featuredBooks.filter(book => book.themes && book.themes.some(theme => String(theme).toLowerCase().includes(query)));\n          } else if (typeFromUrl === 'profession') {\n            data = featuredBooks.filter(book => book.professions && book.professions.some(profession => String(profession).toLowerCase().includes(query)));\n          } else {\n            // Search all fields\n            data = featuredBooks.filter(book => book.title.toLowerCase().includes(query) || book.author.toLowerCase().includes(query) || book.themes && book.themes.some(theme => String(theme).toLowerCase().includes(query)) || book.tone && book.tone.some(tone => String(tone).toLowerCase().includes(query)) || book.professions && book.professions.some(profession => String(profession).toLowerCase().includes(query)) || book.bestFor && book.bestFor.some(bestFor => String(bestFor).toLowerCase().includes(query)));\n          }\n          console.log(`SEARCH: Found ${data.length} books matching \"${queryFromUrl}\"`);\n        }\n        // Otherwise, use all our featured books\n        else {\n          console.log('FETCH: Using all featured books');\n          data = featuredBooks;\n        }\n        setBooks(data);\n      } catch (err) {\n        console.error('Error processing books:', err);\n        setError(err instanceof Error ? err.message : 'Failed to load books. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [location.search, includeExternal]);\n  const handleExternalToggle = () => {\n    const newIncludeExternal = !includeExternal;\n    setIncludeExternal(newIncludeExternal);\n\n    // Refresh the books with the new external API setting\n    if (searchQuery) {\n      // Reuse the current search with new setting\n      const searchParams = new URLSearchParams(location.search);\n      navigate(`/books?${searchParams.toString()}`);\n    } else {\n      // Just reload the current page to trigger the useEffect\n      // which will fetch all books with the new external setting\n      window.location.reload();\n    }\n  };\n\n  // Debug information for rendering\n  useEffect(() => {\n    console.log('RENDER DEBUG - Books length:', books.length);\n    console.log('RENDER DEBUG - Search query:', searchQuery);\n    console.log('RENDER DEBUG - Search type:', searchType);\n  }, [books.length, searchQuery, searchType]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: \"Loading books...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 text-red-600\",\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-primary-900\",\n        children: \"Book Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg text-primary-600\",\n        children: \"Discover books that match your interests and reading style\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSearch: (query, type) => {\n          setSearchQuery(query || '');\n          setSearchType(type || 'all');\n          // Update URL to reflect the search\n          const searchParams = new URLSearchParams();\n          if (query) {\n            searchParams.set('query', query);\n            if (type && type !== 'all') {\n              searchParams.set('type', type);\n            }\n            navigate(`/books?${searchParams.toString()}`);\n          } else {\n            navigate('/books');\n          }\n        },\n        onMoodSelect: mood => {\n          setSearchQuery(mood || '');\n          setSearchType('mood');\n          // Update URL for mood search\n          const searchParams = new URLSearchParams();\n          searchParams.set('query', mood || '');\n          searchParams.set('type', 'mood');\n          navigate(`/books?${searchParams.toString()}`);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-end mt-4 space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Include more books from external sources\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          checked: includeExternal,\n          onChange: handleExternalToggle,\n          className: \"data-[state=checked]:bg-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }, this), books.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: \"No books found. Try a different search or enable external sources.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-4 p-2 bg-red-100 border border-red-500 rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"DIAGNOSTICS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this), \": Currently displaying \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: books.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 64\n        }, this), \" books.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 text-sm text-gray-600\",\n        children: searchQuery ? `Found ${books.length} books for \"${searchQuery}\"${searchType !== 'all' ? ` by ${searchType}` : ''}` : `⏰ Updated at ${new Date().toLocaleTimeString()} - Showing all ${books.length} books from our collection ⏰`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-6 grid-cols-1 lg:grid-cols-2\",\n        children: books.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n          title: book.title,\n          author: book.author,\n          coverImage: book.coverImage,\n          pace: book.pace,\n          tone: book.tone,\n          themes: book.themes,\n          description: book.description || \"No description available\",\n          bestFor: book.bestFor,\n          isExternal: book.isExternal || false\n        }, book.id || `${book.title}-${book.author}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 497,\n    columnNumber: 5\n  }, this);\n};\n_s(BooksPage, \"kDP41td87AlgzI7Js14pS52zsgU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = BooksPage;\nvar _c;\n$RefreshReg$(_c, \"BooksPage\");","map":{"version":3,"names":["React","useEffect","useState","BookCard","SearchBar","Switch","useLocation","useNavigate","jsxDEV","_jsxDEV","extractValue","item","value","toString","featuredBooks","id","title","author","publishedYear","coverImage","description","rating","pace","tone","themes","bestFor","professions","isExternal","pageCount","categories","BooksPage","_s","location","navigate","books","setBooks","error","setError","loading","setLoading","includeExternal","setIncludeExternal","searchQuery","setSearchQuery","searchType","setSearchType","fetchData","queryParams","URLSearchParams","search","queryFromUrl","get","typeFromUrl","data","query","toLowerCase","filter","book","includes","some","String","theme","profession","console","log","length","err","Error","message","handleExternalToggle","newIncludeExternal","searchParams","window","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","type","set","onMoodSelect","mood","checked","onChange","Date","toLocaleTimeString","map","_c","$RefreshReg$"],"sources":["/Users/ChapterOne/src/components/features/BooksPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BookCard } from './BookCard';\nimport { SearchBar } from './SearchBar';\nimport { api } from '../../services/api';\nimport { Book, Pace } from '../../types';\nimport { Switch } from '../ui/Switch';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\n// Interface for Pace objects that might be returned from API\ninterface PaceObject {\n  type?: string;\n  value?: string;\n}\n\n// Helper function to safely extract value from an object or return the value itself\nconst extractValue = (item: any): string => {\n  if (typeof item === 'object' && item !== null && 'value' in item) {\n    return item.value;\n  }\n  return item?.toString() || '';\n};\n\n// Add more books for each theme (5 for each major category)\nconst featuredBooks: Book[] = [\n  // Science Fiction\n  {\n    id: \"sf-dune-1\",\n    title: \"Dune\",\n    author: \"Frank Herbert\",\n    publishedYear: 1965,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1555447414i/44767458.jpg\",\n    description: \"Set on the desert planet Arrakis, Dune is the story of the boy Paul Atreides, heir to a noble family tasked with ruling an inhospitable world where the only thing of value is the \\\"spice\\\" melange, a drug capable of extending life and enhancing consciousness.\",\n    rating: 4.7,\n    pace: \"Moderate\",\n    tone: [\"Epic\", \"Philosophical\", \"Political\", \"Atmospheric\", \"Complex\"],\n    themes: [\"Power\", \"Religion\", \"Ecology\", \"Politics\", \"Destiny\", \"Survival\"],\n    bestFor: [\"Science Fiction Fans\", \"Political Theorists\", \"Philosophers\", \"Environmental Scientists\"],\n    professions: [\"Political Scientists\", \"Ecologists\", \"Futurists\", \"Philosophers\"],\n    isExternal: false,\n    pageCount: 658,\n    categories: [\"Science Fiction\", \"Classic\", \"Space Opera\"]\n  },\n  {\n    id: \"sf-neuromancer-1\",\n    title: \"Neuromancer\",\n    author: \"William Gibson\",\n    publishedYear: 1984,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1554437249i/6088007.jpg\",\n    description: \"The Matrix is a world within the world, a global consensus-hallucination, the representation of every byte of data in cyberspace.\",\n    rating: 4.5,\n    pace: \"Fast\",\n    tone: [\"Gritty\", \"Dystopian\", \"Cyberpunk\", \"Edgy\", \"Prophetic\"],\n    themes: [\"Technology\", \"Artificial Intelligence\", \"Identity\", \"Cyberspace\", \"Corporate Power\"],\n    bestFor: [\"Technology Enthusiasts\", \"Cyberpunk Fans\", \"Futurists\", \"Programmers\"],\n    professions: [\"Software Engineers\", \"Data Scientists\", \"Tech Entrepreneurs\", \"Futurists\"],\n    isExternal: false,\n    pageCount: 271,\n    categories: [\"Science Fiction\", \"Cyberpunk\", \"Classic\"]\n  },\n  {\n    id: \"sf-hyperion-1\",\n    title: \"Hyperion\",\n    author: \"Dan Simmons\",\n    publishedYear: 1989,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1405546838i/77566.jpg\",\n    description: \"On the world called Hyperion, beyond the reach of galactic law, waits a creature called the Shrike. There are those who worship it. There are those who fear it. And there are those who have vowed to destroy it.\",\n    rating: 4.6,\n    pace: \"Moderate\",\n    tone: [\"Literary\", \"Complex\", \"Philosophical\", \"Mysterious\", \"Epic\"],\n    themes: [\"Time\", \"Religion\", \"Artificial Intelligence\", \"Sacrifice\", \"Humanity\"],\n    bestFor: [\"Science Fiction Enthusiasts\", \"Literary Fiction Readers\", \"Philosophers\"],\n    professions: [\"Writers\", \"Philosophers\", \"Religious Scholars\", \"Scientists\"],\n    isExternal: false,\n    pageCount: 482,\n    categories: [\"Science Fiction\", \"Space Opera\"]\n  },\n  {\n    id: \"sf-foundation-1\",\n    title: \"Foundation\",\n    author: \"Isaac Asimov\",\n    publishedYear: 1951,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1417900846i/29579.jpg\",\n    description: \"For twelve thousand years the Galactic Empire has ruled supreme. Now it is dying. But only Hari Seldon, creator of the revolutionary science of psychohistory, can see into the future.\",\n    rating: 4.4,\n    pace: \"Moderate\",\n    tone: [\"Intellectual\", \"Visionary\", \"Political\", \"Classic\"],\n    themes: [\"Society\", \"History\", \"Mathematics\", \"Power\", \"Civilization\"],\n    bestFor: [\"Science Fiction Fans\", \"Mathematicians\", \"Historians\", \"Political Scientists\"],\n    professions: [\"Mathematicians\", \"Social Scientists\", \"Historians\", \"Policy Makers\"],\n    isExternal: false,\n    pageCount: 244,\n    categories: [\"Science Fiction\", \"Classic\"]\n  },\n  {\n    id: \"sf-enders-game-1\",\n    title: \"Ender's Game\",\n    author: \"Orson Scott Card\",\n    publishedYear: 1985,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1408303130i/375802.jpg\",\n    description: \"In order to develop a secure defense against a hostile alien race's next attack, government agencies breed child geniuses and train them as soldiers.\",\n    rating: 4.5,\n    pace: \"Fast\",\n    tone: [\"Suspenseful\", \"Military\", \"Coming-of-age\", \"Thought-provoking\"],\n    themes: [\"War\", \"Leadership\", \"Ethics\", \"Childhood\", \"Manipulation\"],\n    bestFor: [\"Young Adults\", \"Strategy Enthusiasts\", \"Military Fiction Fans\"],\n    professions: [\"Military Strategists\", \"Teachers\", \"Game Designers\", \"Psychologists\"],\n    isExternal: false,\n    pageCount: 324,\n    categories: [\"Science Fiction\", \"Military Science Fiction\"]\n  },\n  \n  // Fantasy\n  {\n    id: \"fantasy-lotr-1\",\n    title: \"The Lord of the Rings\",\n    author: \"J.R.R. Tolkien\",\n    publishedYear: 1954,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1566425108i/33.jpg\",\n    description: \"One Ring to rule them all, One Ring to find them, One Ring to bring them all and in the darkness bind them.\",\n    rating: 4.8,\n    pace: \"Slow\",\n    tone: [\"Epic\", \"Descriptive\", \"Mythic\", \"Poetic\", \"Adventure\"],\n    themes: [\"Good vs Evil\", \"Fellowship\", \"Heroism\", \"Power\", \"Sacrifice\", \"Journey\"],\n    bestFor: [\"Fantasy Lovers\", \"Literary Scholars\", \"Historians\", \"Linguists\"],\n    professions: [\"Writers\", \"Linguists\", \"Mythologists\", \"Historians\"],\n    isExternal: false,\n    pageCount: 1178,\n    categories: [\"Fantasy\", \"Classic\", \"Epic\"]\n  },\n  {\n    id: \"fantasy-name-of-the-wind-1\",\n    title: \"The Name of the Wind\",\n    author: \"Patrick Rothfuss\",\n    publishedYear: 2007,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1270352123i/186074.jpg\",\n    description: \"The intimate narrative of how a young man becomes the most notorious wizard his world has ever seen.\",\n    rating: 4.7,\n    pace: \"Moderate\",\n    tone: [\"Immersive\", \"Lyrical\", \"Character-driven\", \"Coming-of-age\"],\n    themes: [\"Music\", \"Knowledge\", \"Identity\", \"Love\", \"Revenge\"],\n    bestFor: [\"Fantasy Enthusiasts\", \"Musicians\", \"Writers\", \"Students\"],\n    professions: [\"Musicians\", \"Writers\", \"Academics\", \"Educators\"],\n    isExternal: false,\n    pageCount: 662,\n    categories: [\"Fantasy\", \"Epic Fantasy\"]\n  },\n  {\n    id: \"fantasy-mistborn-1\",\n    title: \"Mistborn: The Final Empire\",\n    author: \"Brandon Sanderson\",\n    publishedYear: 2006,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1617768316i/68428.jpg\",\n    description: \"In a world where ash falls from the sky and mist dominates the night, an evil cloaks the land. The Dark Lord has reigned with absolute power for a thousand years.\",\n    rating: 4.7,\n    pace: \"Moderate\",\n    tone: [\"Detailed\", \"Suspenseful\", \"Epic\", \"Dark\", \"Revolutionary\"],\n    themes: [\"Revolution\", \"Magic Systems\", \"Social Classes\", \"Friendship\", \"Identity\"],\n    bestFor: [\"Fantasy Readers\", \"Magic System Enthusiasts\", \"Revolution Storytelling\"],\n    professions: [\"Writers\", \"Game Designers\", \"Political Scientists\", \"Philosophers\"],\n    isExternal: false,\n    pageCount: 541,\n    categories: [\"Fantasy\", \"High Fantasy\"]\n  },\n  {\n    id: \"fantasy-american-gods-1\",\n    title: \"American Gods\",\n    author: \"Neil Gaiman\",\n    publishedYear: 2001,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1462924585i/30165203.jpg\",\n    description: \"A blend of Americana, fantasy, and mythology, telling the story of a war brewing between old and new gods.\",\n    rating: 4.5,\n    pace: \"Slow\",\n    tone: [\"Dark\", \"Mythic\", \"Surreal\", \"Atmospheric\", \"Road Trip\"],\n    themes: [\"Religion\", \"Identity\", \"America\", \"Belief\", \"Immigration\"],\n    bestFor: [\"Mythology Enthusiasts\", \"Cultural Anthropologists\", \"American Culture Students\"],\n    professions: [\"Anthropologists\", \"Religious Scholars\", \"Cultural Critics\", \"Writers\"],\n    isExternal: false,\n    pageCount: 635,\n    categories: [\"Fantasy\", \"Mythology\", \"Urban Fantasy\"]\n  },\n  {\n    id: \"fantasy-game-of-thrones-1\",\n    title: \"A Game of Thrones\",\n    author: \"George R.R. Martin\",\n    publishedYear: 1996,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1562726234i/13496.jpg\",\n    description: \"Summers span decades. Winter can last a lifetime. And the struggle for the Iron Throne has begun.\",\n    rating: 4.6,\n    pace: \"Moderate\",\n    tone: [\"Gritty\", \"Political\", \"Realistic\", \"Complex\", \"Brutal\"],\n    themes: [\"Power\", \"Politics\", \"War\", \"Family\", \"Loyalty\", \"Betrayal\"],\n    bestFor: [\"Political Strategy Fans\", \"Medieval History Buffs\", \"Complex Character Enthusiasts\"],\n    professions: [\"Political Scientists\", \"Historians\", \"Strategic Planners\", \"Diplomats\"],\n    isExternal: false,\n    pageCount: 835,\n    categories: [\"Fantasy\", \"Epic Fantasy\", \"Political Fantasy\"]\n  },\n  \n  // Romance\n  {\n    id: \"romance-pride-1\",\n    title: \"Pride and Prejudice\",\n    author: \"Jane Austen\",\n    publishedYear: 1813,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1320399351i/1885.jpg\",\n    description: \"Since its immediate success in 1813, Pride and Prejudice has remained one of the most popular novels in the English language.\",\n    rating: 4.6,\n    pace: \"Moderate\",\n    tone: [\"Witty\", \"Ironic\", \"Romantic\", \"Satirical\", \"Elegant\"],\n    themes: [\"Social Class\", \"Marriage\", \"Pride\", \"Prejudice\", \"Love\", \"Self-discovery\"],\n    bestFor: [\"Romance Readers\", \"Literary Critics\", \"Sociologists\", \"Feminists\"],\n    professions: [\"English Professors\", \"Sociologists\", \"Journalists\", \"Writers\"],\n    isExternal: false,\n    pageCount: 279,\n    categories: [\"Romance\", \"Classic\", \"Literary Fiction\"]\n  },\n  {\n    id: \"romance-jane-eyre-1\",\n    title: \"Jane Eyre\",\n    author: \"Charlotte Brontë\",\n    publishedYear: 1847,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1557343311i/10210.jpg\",\n    description: \"Jane Eyre follows the emotions and experiences of its title character, as she grows from an orphan into a governess, and falls in love with the master of the house.\",\n    rating: 4.5,\n    pace: \"Moderate\",\n    tone: [\"Gothic\", \"Romantic\", \"Passionate\", \"Mysterious\", \"Feminist\"],\n    themes: [\"Love\", \"Independence\", \"Social Class\", \"Gender\", \"Morality\"],\n    bestFor: [\"Romance Readers\", \"Gothic Literature Fans\", \"Feminist Studies\"],\n    professions: [\"Teachers\", \"Writers\", \"Psychologists\", \"Social Workers\"],\n    isExternal: false,\n    pageCount: 532,\n    categories: [\"Romance\", \"Classic\", \"Gothic\"]\n  },\n  {\n    id: \"romance-outlander-1\",\n    title: \"Outlander\",\n    author: \"Diana Gabaldon\",\n    publishedYear: 1991,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1529065012i/10964.jpg\",\n    description: \"The year is 1945. Claire Randall, a former combat nurse, is just back from the war and reunited with her husband on a second honeymoon when she walks through a standing stone in one of the ancient circles that dot the British Isles.\",\n    rating: 4.6,\n    pace: \"Moderate\",\n    tone: [\"Historical\", \"Romantic\", \"Adventure\", \"Detailed\", \"Time-travel\"],\n    themes: [\"Love\", \"Time Travel\", \"History\", \"Survival\", \"Identity\"],\n    bestFor: [\"Historical Fiction Fans\", \"Romance Readers\", \"Adventure Enthusiasts\"],\n    professions: [\"Historians\", \"Nurses\", \"Archaeologists\", \"Writers\"],\n    isExternal: false,\n    pageCount: 850,\n    categories: [\"Romance\", \"Historical Fiction\", \"Fantasy\"]\n  },\n  {\n    id: \"romance-notebook-1\",\n    title: \"The Notebook\",\n    author: \"Nicholas Sparks\",\n    publishedYear: 1996,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1483183484i/33648131.jpg\",\n    description: \"A story of miracles and emotions that make us laugh, cry, and hope.\",\n    rating: 4.4,\n    pace: \"Fast\",\n    tone: [\"Emotional\", \"Nostalgic\", \"Sentimental\", \"Heartwarming\"],\n    themes: [\"Love\", \"Memory\", \"Aging\", \"Devotion\", \"Sacrifice\"],\n    bestFor: [\"Romance Enthusiasts\", \"Emotional Story Lovers\", \"Relationship Studies\"],\n    professions: [\"Healthcare Workers\", \"Elderly Care Specialists\", \"Therapists\", \"Writers\"],\n    isExternal: false,\n    pageCount: 214,\n    categories: [\"Romance\", \"Contemporary\", \"Fiction\"]\n  },\n  {\n    id: \"romance-normal-people-1\",\n    title: \"Normal People\",\n    author: \"Sally Rooney\",\n    publishedYear: 2018,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1571423190i/41057294.jpg\",\n    description: \"Follows the complex friendship and relationship between two teenagers who pretend not to know each other at school but forge a connection that changes their lives.\",\n    rating: 4.3,\n    pace: \"Moderate\",\n    tone: [\"Contemporary\", \"Intimate\", \"Realistic\", \"Melancholic\", \"Character-driven\"],\n    themes: [\"Love\", \"Class\", \"Communication\", \"Mental Health\", \"Identity\"],\n    bestFor: [\"Contemporary Fiction Readers\", \"Young Adults\", \"Social Dynamics Students\"],\n    professions: [\"Psychologists\", \"Sociologists\", \"Educators\", \"Social Workers\"],\n    isExternal: false,\n    pageCount: 273,\n    categories: [\"Romance\", \"Contemporary\", \"Literary Fiction\"]\n  },\n  \n  // Non-fiction\n  {\n    id: \"nonfiction-thinking-1\",\n    title: \"Thinking, Fast and Slow\",\n    author: \"Daniel Kahneman\",\n    publishedYear: 2011,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1317793965i/11468377.jpg\",\n    description: \"The renowned psychologist and winner of the Nobel Prize in Economics takes us on a groundbreaking tour of the mind and explains the two systems that drive the way we think.\",\n    rating: 4.5,\n    pace: \"Slow\",\n    tone: [\"Academic\", \"Insightful\", \"Analytical\", \"Accessible\", \"Thought-provoking\"],\n    themes: [\"Psychology\", \"Decision Making\", \"Behavioral Economics\", \"Cognitive Biases\", \"Rationality\"],\n    bestFor: [\"Business Leaders\", \"Product Managers\", \"Decision Makers\", \"Psychology Enthusiasts\"],\n    professions: [\"Psychologists\", \"Economists\", \"Product Managers\", \"Executives\", \"Data Scientists\"],\n    isExternal: false,\n    pageCount: 499,\n    categories: [\"Psychology\", \"Non-fiction\", \"Economics\", \"Science\"]\n  },\n  {\n    id: \"nonfiction-sapiens-1\",\n    title: \"Sapiens: A Brief History of Humankind\",\n    author: \"Yuval Noah Harari\",\n    publishedYear: 2011,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1595674533i/23692271.jpg\",\n    description: \"Explores the ways in which biology and history have defined us and enhanced our understanding of what it means to be human.\",\n    rating: 4.7,\n    pace: \"Moderate\",\n    tone: [\"Accessible\", \"Thought-provoking\", \"Engaging\", \"Provocative\", \"Big-picture\"],\n    themes: [\"Human Evolution\", \"History\", \"Anthropology\", \"Society\", \"Culture\"],\n    bestFor: [\"History Enthusiasts\", \"Science Readers\", \"Anthropology Students\", \"Big Picture Thinkers\"],\n    professions: [\"Anthropologists\", \"Historians\", \"Social Scientists\", \"Educators\", \"Futurists\"],\n    isExternal: false,\n    pageCount: 443,\n    categories: [\"History\", \"Non-fiction\", \"Science\", \"Anthropology\"]\n  },\n  {\n    id: \"nonfiction-atomic-habits-1\",\n    title: \"Atomic Habits\",\n    author: \"James Clear\",\n    publishedYear: 2018,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1535115320i/40121378.jpg\",\n    description: \"Tiny Changes, Remarkable Results: An Easy & Proven Way to Build Good Habits & Break Bad Ones.\",\n    rating: 4.8,\n    pace: \"Fast\",\n    tone: [\"Practical\", \"Actionable\", \"Inspiring\", \"Clear\", \"Methodical\"],\n    themes: [\"Habit Formation\", \"Self-Improvement\", \"Psychology\", \"Productivity\", \"Behavior Change\"],\n    bestFor: [\"Self-Help Enthusiasts\", \"Productivity Seekers\", \"Coaches\", \"Managers\"],\n    professions: [\"Coaches\", \"Managers\", \"Entrepreneurs\", \"Teachers\", \"Healthcare Professionals\"],\n    isExternal: false,\n    pageCount: 320,\n    categories: [\"Self-Help\", \"Non-fiction\", \"Psychology\", \"Personal Development\"]\n  },\n  {\n    id: \"nonfiction-educated-1\",\n    title: \"Educated\",\n    author: \"Tara Westover\",\n    publishedYear: 2018,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1506026635i/35133922.jpg\",\n    description: \"A memoir about a young girl who, kept out of school, leaves her survivalist family and goes on to earn a PhD from Cambridge University.\",\n    rating: 4.7,\n    pace: \"Moderate\",\n    tone: [\"Compelling\", \"Inspiring\", \"Raw\", \"Personal\", \"Moving\"],\n    themes: [\"Education\", \"Family\", \"Identity\", \"Resilience\", \"Self-Determination\"],\n    bestFor: [\"Memoir Readers\", \"Educators\", \"Social Workers\", \"Psychology Students\"],\n    professions: [\"Educators\", \"Psychologists\", \"Social Workers\", \"Counselors\"],\n    isExternal: false,\n    pageCount: 334,\n    categories: [\"Memoir\", \"Non-fiction\", \"Biography\", \"Education\"]\n  },\n  {\n    id: \"nonfiction-becoming-1\",\n    title: \"Becoming\",\n    author: \"Michelle Obama\",\n    publishedYear: 2018,\n    coverImage: \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1528206996i/38746485.jpg\",\n    description: \"In her memoir, Michelle Obama invites readers into her world, chronicling the experiences that have shaped her.\",\n    rating: 4.6,\n    pace: \"Moderate\",\n    tone: [\"Intimate\", \"Inspiring\", \"Reflective\", \"Authentic\", \"Eloquent\"],\n    themes: [\"Identity\", \"Politics\", \"Race\", \"Family\", \"Leadership\"],\n    bestFor: [\"Memoir Readers\", \"Political Science Students\", \"Women Studies\", \"Leadership Development\"],\n    professions: [\"Public Servants\", \"Lawyers\", \"Community Organizers\", \"Educators\", \"Leaders\"],\n    isExternal: false,\n    pageCount: 426,\n    categories: [\"Memoir\", \"Non-fiction\", \"Biography\", \"Politics\"]\n  }\n];\n\nexport const BooksPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [books, setBooks] = useState<Book[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [includeExternal, setIncludeExternal] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchType, setSearchType] = useState('all');\n\n  // Handle URL search parameters when component loads\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(null);\n      \n      try {\n        const queryParams = new URLSearchParams(location.search);\n        const queryFromUrl = queryParams.get('query');\n        const typeFromUrl = queryParams.get('type');\n        \n        let data: Book[];\n        \n        // If there's a search query in the URL, use it to filter books\n        if (queryFromUrl) {\n          setSearchQuery(queryFromUrl);\n          if (typeFromUrl) {\n            setSearchType(typeFromUrl);\n          }\n          \n          // Instead of fetching from API, filter our featuredBooks\n          const query = queryFromUrl.toLowerCase();\n          \n          if (typeFromUrl === 'title') {\n            data = featuredBooks.filter(book => \n              book.title.toLowerCase().includes(query)\n            );\n          } else if (typeFromUrl === 'author') {\n            data = featuredBooks.filter(book => \n              book.author.toLowerCase().includes(query)\n            );\n          } else if (typeFromUrl === 'mood' || typeFromUrl === 'tone') {\n            data = featuredBooks.filter(book => \n              book.tone && book.tone.some(tone => \n                String(tone).toLowerCase().includes(query)\n              )\n            );\n          } else if (typeFromUrl === 'theme') {\n            data = featuredBooks.filter(book => \n              book.themes && book.themes.some(theme => \n                String(theme).toLowerCase().includes(query)\n              )\n            );\n          } else if (typeFromUrl === 'profession') {\n            data = featuredBooks.filter(book => \n              book.professions && book.professions.some(profession => \n                String(profession).toLowerCase().includes(query)\n              )\n            );\n          } else {\n            // Search all fields\n            data = featuredBooks.filter(book => \n              book.title.toLowerCase().includes(query) ||\n              book.author.toLowerCase().includes(query) ||\n              (book.themes && book.themes.some(theme => String(theme).toLowerCase().includes(query))) ||\n              (book.tone && book.tone.some(tone => String(tone).toLowerCase().includes(query))) ||\n              (book.professions && book.professions.some(profession => String(profession).toLowerCase().includes(query))) ||\n              (book.bestFor && book.bestFor.some(bestFor => String(bestFor).toLowerCase().includes(query)))\n            );\n          }\n          \n          console.log(`SEARCH: Found ${data.length} books matching \"${queryFromUrl}\"`);\n        } \n        // Otherwise, use all our featured books\n        else {\n          console.log('FETCH: Using all featured books');\n          data = featuredBooks;\n        }\n        \n        setBooks(data);\n      } catch (err) {\n        console.error('Error processing books:', err);\n        setError(err instanceof Error ? err.message : 'Failed to load books. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [location.search, includeExternal]);\n\n  const handleExternalToggle = () => {\n    const newIncludeExternal = !includeExternal;\n    setIncludeExternal(newIncludeExternal);\n    \n    // Refresh the books with the new external API setting\n    if (searchQuery) {\n      // Reuse the current search with new setting\n      const searchParams = new URLSearchParams(location.search);\n      navigate(`/books?${searchParams.toString()}`);\n    } else {\n      // Just reload the current page to trigger the useEffect\n      // which will fetch all books with the new external setting\n      window.location.reload();\n    }\n  };\n\n  // Debug information for rendering\n  useEffect(() => {\n    console.log('RENDER DEBUG - Books length:', books.length);\n    console.log('RENDER DEBUG - Search query:', searchQuery);\n    console.log('RENDER DEBUG - Search type:', searchType);\n  }, [books.length, searchQuery, searchType]);\n\n  if (loading) {\n    return <div className=\"text-center py-10\">Loading books...</div>;\n  }\n\n  if (error) {\n    return <div className=\"text-center py-10 text-red-600\">Error: {error}</div>;\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"text-center space-y-4\">\n        <h1 className=\"text-3xl font-bold text-primary-900\">Book Recommendations</h1>\n        <p className=\"text-lg text-primary-600\">\n          Discover books that match your interests and reading style\n        </p>\n      </div>\n\n      {/* Search */}\n      <div className=\"max-w-3xl mx-auto\">\n        <SearchBar \n          onSearch={(query, type) => {\n            setSearchQuery(query || '');\n            setSearchType(type || 'all');\n            // Update URL to reflect the search\n            const searchParams = new URLSearchParams();\n            if (query) {\n              searchParams.set('query', query);\n              if (type && type !== 'all') {\n                searchParams.set('type', type);\n              }\n              navigate(`/books?${searchParams.toString()}`);\n            } else {\n              navigate('/books');\n            }\n          }}\n          onMoodSelect={(mood) => {\n            setSearchQuery(mood || '');\n            setSearchType('mood');\n            // Update URL for mood search\n            const searchParams = new URLSearchParams();\n            searchParams.set('query', mood || '');\n            searchParams.set('type', 'mood');\n            navigate(`/books?${searchParams.toString()}`);\n          }}\n        />\n        \n        {/* External API Toggle */}\n        <div className=\"flex items-center justify-end mt-4 space-x-2\">\n          <span className=\"text-sm text-gray-600\">Include more books from external sources</span>\n          <Switch\n            checked={includeExternal}\n            onChange={handleExternalToggle}\n            className=\"data-[state=checked]:bg-green-500\"\n          />\n        </div>\n      </div>\n\n      {/* Books Grid */}\n      {books.length === 0 ? (\n        <div className=\"text-center py-10\">No books found. Try a different search or enable external sources.</div>\n      ) : (\n        <div>\n          {/* DIAGNOSTICS */}\n          <div className=\"text-center mb-4 p-2 bg-red-100 border border-red-500 rounded-md\">\n            <strong>DIAGNOSTICS</strong>: Currently displaying <strong>{books.length}</strong> books.\n            {/* This is a test to ensure we're showing the real book count */}\n          </div>\n          \n          {/* Search result info */}\n          <div className=\"mb-4 text-sm text-gray-600\">\n            {searchQuery ? \n              `Found ${books.length} books for \"${searchQuery}\"${searchType !== 'all' ? ` by ${searchType}` : ''}` :\n              `⏰ Updated at ${new Date().toLocaleTimeString()} - Showing all ${books.length} books from our collection ⏰`\n            }\n          </div>\n          \n          {/* Books grid */}\n          <div className=\"grid gap-6 grid-cols-1 lg:grid-cols-2\">\n            {books.map((book) => (\n              <BookCard\n                key={book.id || `${book.title}-${book.author}`}\n                title={book.title}\n                author={book.author}\n                coverImage={book.coverImage}\n                pace={book.pace as Pace}\n                tone={book.tone}\n                themes={book.themes}\n                description={book.description || \"No description available\"}\n                bestFor={book.bestFor}\n                isExternal={book.isExternal || false}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}